<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • baseballr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baseballr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ncaa_scraping.html">NCAA Scraping</a>
    </li>
    <li>
      <a href="../articles/plotting_statcast.html">Plotting Statcast data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/BillPetti/baseballr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/BillPetti/baseballr/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="baseballr-08-2020-05-15" class="section level1">
<h1 class="page-header" data-toc-text="0.8">
<a href="#baseballr-08-2020-05-15" class="anchor"></a>baseballr 0.8 (2020-05-15)</h1>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"></a>New Functions</h2>
<p>Thanks to <a href="https://github.com/robert-frey">Robert Frey</a>, we’ve added a new function that allows the user to calculate park factors at the NCAA level.</p>
<p><code>get_ncaa_park_factors</code> takes two arguments; <code>teamid</code>, <code>years</code>, and <code>type</code>. Users can submit a single year or multiple years (recommended) and uses a team’s schedule with results to calculate their home park’s factors. Also, if a user selects <code>conference</code> as the type, the park factor will be adjusted based on the number of teams in a conference. This has the practical effect of suggesting more regression should be applied to players who play against fewer teams in fewer parks.</p>
<p>The function will return two versions of the park factor: the <code>base_pf</code> and the <code>final_pf</code>, which simply takes the <code>base_pf</code> and applies an adjustment that is based on <a href="https://library.fangraphs.com/park-factors-5-year-regressed/">FanGraphs’ method</a>:</p>
<pre><code>get_ncaa_park_factor(736, c(2017:2019),type = "conference")
      school home_game away_game runs_scored_home runs_allowed_home runs_scored_away
1 Vanderbilt       104        91              782               416              591
  runs_allowed_away base_pf home_game_adj final_pf
1               426   1.028         1.013    1.011

get_ncaa_park_factor(736, c(2017:2019),type = "division")
      school home_game away_game runs_scored_home runs_allowed_home runs_scored_away
1 Vanderbilt       104        91              782               416              591
  runs_allowed_away base_pf home_game_adj final_pf
1               426   1.031         1.014    1.011

get_ncaa_park_factor(736, c(2015:2019),type = "division")
      school home_game away_game runs_scored_home runs_allowed_home runs_scored_away
1 Vanderbilt       175       154             1314               658              951
  runs_allowed_away base_pf home_game_adj final_pf
1               680   1.209         1.098    1.093</code></pre>
</div>
<div id="fixes-and-updates" class="section level2">
<h2 class="hasAnchor">
<a href="#fixes-and-updates" class="anchor"></a>Fixes and Updates</h2>
<ul>
<li><p><a href="https://github.com/shanepiesik">Shane Piesik</a> made some changes to the <code>scrape_statcast_savant</code> function. The function should now be easier to use in a loop or map when combining payloads, and more importantly the data should read in faster thanks to swapping in <code>vroom</code>.</p></li>
<li><p>The <code>master_ncaa_team_lu</code> was updated by Robert Frey. For some reason, the NCAA website that had the 2019 Division 1 information has dissappeared, and when I rebuilt the table at the begining of 2020 it led to tons of <code>NA</code> values for those teams that year. Thanks to Robert for manually fixing.</p></li>
</ul>
</div>
<div id="other" class="section level2">
<h2 class="hasAnchor">
<a href="#other" class="anchor"></a>Other</h2>
<p>Messages have been added to all functions that pull data from <a href="https://plus.fangraphs.com/product/fangraphs-membership/?switch-subscription=254671&amp;item=85029&amp;_wcsnonce=62a468b8ba&amp;auto-switch=true">FanGraphs.com</a> and <a href="https://stathead.com">Baseball-Reference.com</a>. The messages ask users to support both sites through their paid subscription services. Please consider supporting both, especially if you are using <code>baseballr</code> to pull data from their sites.</p>
</div>
</div>
    <div id="baseballr-07-2020-01-07" class="section level1">
<h1 class="page-header" data-toc-text="0.7">
<a href="#baseballr-07-2020-01-07" class="anchor"></a>baseballr 0.7 (2020-01-07)</h1>
<div id="new-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-1" class="anchor"></a>New Functions</h2>
<p>This release of <a href="https://github.com/BillPetti/baseballr"><code>baseballr</code></a> includes functions that allow a user to query data through MLB’s stats api at the minor league level.</p>
<p>You can view a look up table with <code><a href="../reference/get_game_pks_mlb.html">?get_game_pks_mlb</a></code> to get the appropriate IDs for each level, but I’ll post them here as well (this is not comprehensive):</p>
<table>
<thead><tr class="header">
<th>1</th>
<th>MLB</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>11</td>
<td>Triple-A</td>
</tr>
<tr class="even">
<td>12</td>
<td>Double-A</td>
</tr>
<tr class="odd">
<td>13</td>
<td>Class A Advanced</td>
</tr>
<tr class="even">
<td>14</td>
<td>Class A</td>
</tr>
<tr class="odd">
<td>15</td>
<td>Class A Short Season</td>
</tr>
<tr class="even">
<td>5442</td>
<td>Rookie Advanced</td>
</tr>
<tr class="odd">
<td>16</td>
<td>Rookie</td>
</tr>
<tr class="even">
<td>17</td>
<td>Winter League</td>
</tr>
</tbody>
</table>
<p>Game information can be acquired using the <code>get_game_pks_mlb</code> function, along with the level for which you want games:</p>
<pre><code>games &lt;- get_game_pks_mlb(date = '2019-05-01',
                          level_ids = c(11, 12))

games %&gt;%
  select(game_pk, gameDate, teams.away.team.name, teams.home.team.name) %&gt;%
  slice(1:10)
  
   game_pk             gameDate      teams.away.team.name  teams.home.team.name
1   579921 2019-05-01T16:05:00Z        Round Rock Express Oklahoma City Dodgers
2   579919 2019-05-01T03:33:00Z        Round Rock Express Oklahoma City Dodgers
3   584340 2019-05-01T21:30:00Z        Midland RockHounds        Tulsa Drillers
4   584269 2019-05-01T03:33:00Z        Midland RockHounds        Tulsa Drillers
5   579571 2019-05-01T21:38:00Z      San Antonio Missions             Iowa Cubs
6   579570 2019-05-01T03:33:00Z      San Antonio Missions             Iowa Cubs
7   571587 2019-05-01T14:30:00Z            Erie SeaWolves         Altoona Curve
8   572288 2019-05-01T14:30:00Z New Hampshire Fisher Cats       Trenton Thunder
9   575163 2019-05-01T14:35:00Z             Norfolk Tides          Durham Bulls
10  575655 2019-05-01T14:35:00Z           Louisville Bats       Toledo Mud Hens</code></pre>
<p>You can also use the <code>get_game_info_mlb</code> function to grab additional info on each game, such as weather and (in some cases) attendance:</p>
<pre><code>map_df(.x = games$game_pk[1:10], 
       ~get_game_info_mlb(.x)) %&gt;%
  select(game_date, venue_name, temperature, other_weather, wind)

# A tibble: 10 x 5
   game_date  venue_name                 temperature other_weather wind           
   &lt;chr&gt;      &lt;chr&gt;                      &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;          
 1 2019-05-01 Chickasaw Bricktown Ballp… 63          Cloudy        4 mph, R To L  
 2 2019-05-01 Chickasaw Bricktown Ballp… 72          Cloudy        13 mph, R To L 
 3 2019-05-01 ONEOK Field                77          Overcast      14 mph, In Fro…
 4 2019-05-01 ONEOK Field                74          clear         14 mph, In Fro…
 5 2019-05-01 Principal Park             54          Overcast      3 mph, In From…
 6 2019-05-01 Principal Park             53          Overcast      1 mph, Calm    
 7 2019-05-01 Peoples Natural Gas Field  58          Overcast      7 mph, In From…
 8 2019-05-01 ARM &amp; HAMMER Park          55          Overcast      5 mph, L To R  
 9 2019-05-01 Durham Bulls Athletic Park 70          Partly Cloudy 7 mph, In From…
10 2019-05-01 Fifth Third Field          59          Cloudy        7 mph, R To L  </code></pre>
<p>Once you have the <code>game_pk</code> IDs grabbing the pbp data is very simple. All you need to do is pass the <code>game_pk</code> of interest to the <code>get_pbp_mlb</code> function.</p>
<p>Let’s say you interested in the Gwinnett Stripers versus the Charlotte Knights:</p>
<pre><code>payload &lt;- get_pbp_mlb(575589)</code></pre>
<p>The function will return a data frame with 131 columns. Data availability will vary depending on the park and the league level, as most sensor data is not availble in minor league parks via this API. Also note that the column names have mostly been left as-is and there are likely duplicate columns in terms of the information they provide. I plan to clean the output up down the road, but for now I am leaving the majority as-is.</p>
<p>Some of the colums of interest at the minor league level are:</p>
<ul>
<li>
<code>pitchNumber</code> and <code>atBatIndex</code>: the pitch number within a given plate appearance and the plate appearance within a given game.</li>
<li>
<code>pitchData.coordinates.x</code> and <code>pitchData.coordinates.y</code>: the x,z coordinates of the pitch as it crosses the plate. As far as I can tell, these are the pixel coordinates for a location that a stringer manually plots and likely need to be transformed and rotated to get a view of the pitch as it crosses the plate. I am working on figuring out an easy transformation to get them on the same scale as the MLB coordinates, but they appear different by park. I do believe you can multiple both by -1 and that will at least allow you to orient the coordinates correctly (i.e. catcher’s view)</li>
<li>
<code>details.call.code</code>, <code>details.call.description</code>, <code>result.event</code>, <code>result.eventType</code>, and <code>result.description</code>: these are similar to what we find with Statcast data–codes and detailed desriptions for what happened on a pitch or at the end of a plate appearance.</li>
<li>
<code>count.</code> variables that tell you how many balls, strikes, and outs before and after the pitch.</li>
<li>
<code>batter.id</code> and <code>pitcher.id</code>
</li>
<li>
<code>matchup.batSide.code</code> and <code>matchup.pitchHand.code</code>: handedness of the batter and pitcher.</li>
<li>A series of columns that tell you what the league and level is of both the home and away teams and includes their parent organizations.</li>
<li>
<code>batted.ball.result</code>, <code>hitData.coordinates.coordX</code>, <code>hitData.coordinates.coordY</code>, <code>hitData.trajectory</code>: various information about the batted ball. Of most interest will be the coordinate columns.</li>
</ul>
</div>
</div>
    <div id="baseballr-04-2019-03-18" class="section level1">
<h1 class="page-header" data-toc-text="0.4">
<a href="#baseballr-04-2019-03-18" class="anchor"></a>baseballr 0.4 (2019-03-18)</h1>
<p>The latest release of the <a href="https://billpetti.github.io/baseballr/"><code>baseballr</code></a> package for <code>R</code> includes a number of enhancements and bug fixes.</p>
<div id="new-functions-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-2" class="anchor"></a>New Functions</h2>
<p><code><a href="../reference/fg_pitch_leaders.html">fg_pitch_leaders()</a></code></p>
<p>This function is the compliment to the <code><a href="../reference/fg_bat_leaders.html">fg_bat_leaders()</a></code> function, returning leaderboard information for pitchers from FanGraphs.com.</p>
<p>In addition to noting the start and end years, along with qualified/IP requirements, etc., you can note whether you want all pitchers, starters, or just relievers using the <code>pitcher_type</code> argument.</p>
<ul>
<li>
<code>pit</code> wil give you all pitchers that meet your requirements</li>
<li>
<code>sta</code> gives you starters only</li>
<li>
<code>rel</code> gives you relievers only</li>
</ul>
<pre><code>fg_pitch_leaders(2018,2018, pitcher_type = "sta") %&gt;% slice (1:10) %&gt;% .[,1:10]

   playerid Seasons  #             Name      Team Age  W  L  ERA  G
1     10954    2018  1     Jacob deGrom      Mets  30 10  9 1.70 32
2     13543    2018  2      Blake Snell      Rays  25 21  5 1.89 31
3     12703    2018  3     Trevor Bauer   Indians  27 12  6 2.26 27
4     16149    2018  4       Aaron Nola  Phillies  25 17  6 2.37 33
5      8700    2018  5 Justin Verlander    Astros  35 16  9 2.52 34
6      3137    2018  6     Max Scherzer Nationals  33 18  7 2.53 33
7      9803    2018  7    Miles Mikolas Cardinals  29 18  4 2.83 32
8     16256    2018  8    Kyle Freeland   Rockies  25 17  7 2.85 33
9     10811    2018  9 Mike Foltynewicz    Braves  26 13 10 2.85 31
10    13125    2018 10      Gerrit Cole    Astros  27 15  5 2.88 32</code></pre>
<p><code>scrape_statcast_leaderboards()</code></p>
<p>The <code>scrape_statcast_leaderboards()</code> function can be used to access all of the leaderboards available from <a href="https://baseballsavant.mlb.com">BaseballSavant</a> as csv downloads. The function isn’t doing anything too sophisticated; it simply builds the appropriate url for the csv download based on a series of parameters and then reads the csv into <code>R</code>.</p>
<p>Users specificy which leaderboard they want to download using the <code>leaderboard</code> argument. The following are currently available:</p>
<ul>
<li><code>exit_velocity_barrels</code></li>
<li><code>expected_statistics</code></li>
<li><code>pitch_arsenal</code></li>
<li><code>outs_above_average</code></li>
<li><code>directional_oaa</code></li>
<li><code>catch_probability</code></li>
<li><code>pop_time</code></li>
<li><code>sprint_speed</code></li>
<li><code>running_splits_90_ft</code></li>
</ul>
<p>Each leaderboard has different parameters that can be specific to alter the content of the downloads, but not all parameters work for every leaderboard. (I would check the leaderboard interface on BaseballSavant directly if you are not sure which ones to use.) Some of the leaderboards do not include a variable for the <code>year</code> selected, so the function will check if it exists and, if not, it will add a column based on your parameter setting.</p>
<p>Here is an example of the <code>expected_statistics</code> leaderboard for pitchers who faced at least 250 batters in 2018:</p>
<pre><code>payload &lt;- scrape_savant_leaderboards(leaderboard = "expected_statistics", 
                    year = 2018, 
                    player_type = "pitcher", 
                    min_pa = 250)

payload %&gt;%
    arrange(est_woba) %&gt;% 
    select(year:last_name, pa, woba:est_woba_minus_woba_diff)

    year last_name    pa  woba est_woba est_woba_minus_woba_diff
   &lt;int&gt; &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt;                    &lt;dbl&gt;
 1  2018 Diaz        280 0.214    0.212                    0.002
 2  2018 Hader       306 0.219    0.229                   -0.01 
 3  2018 Treinen     315 0.187    0.23                    -0.043
 4  2018 Ottavino    309 0.231    0.23                     0.001
 5  2018 Sale        617 0.237    0.232                    0.005
 6  2018 Verlander   833 0.26     0.236                    0.024
 7  2018 Betances    272 0.259    0.236                    0.023
 8  2018 Pressly     292 0.267    0.241                    0.026
 9  2018 deGrom      835 0.23     0.243                   -0.013
10  2018 Scherzer    866 0.252    0.246                    0.006
# ... with 264 more rows</code></pre>
<p><code><a href="../reference/milb_batter_game_logs_fg.html">milb_batter_game_logs_fg()</a></code> <code><a href="../reference/milb_pitcher_game_logs_fg.html">milb_pitcher_game_logs_fg()</a></code></p>
<p>These functions were contributed by <a href="https://github.com/matawith1t">Mat Adams</a>, and they are similar to the game log functions included in an earlier release except that they will return minor league game logs for the player specified. The functions take only two arguments: <code>playerid</code> and <code>year</code>. The <code>playerid</code> is the minor league ID assigned by FanGrapsh. This can be found in the url slug for a minor league player’s page.</p>
<p>For example, here is the url for Vladimir Guerrero Jr.’s minor league game logs: <a href="https://www.fangraphs.com/statsd.aspx?playerid=sa920245&amp;position=3B&amp;gds=&amp;gde=" class="uri">https://www.fangraphs.com/statsd.aspx?playerid=sa920245&amp;position=3B&amp;gds=&amp;gde=</a></p>
<p>You will see the <code>playerid=</code> portion of the url, and the actual ID follows (i.e. sa920245).</p>
<pre><code>milb_batter_game_logs_fg(playerid = "sa920245", year = 2017) %&gt;% slice(1:10)

                    name minor_playerid       Date Team Level  Opp  AVG G AB PA H
1  Vladimir Guerrero Jr.       sa920245 2017-04-07  TOR   (A) <a href='https://github.com/LAD'>@LAD</a> .000 1  1  3 0
2  Vladimir Guerrero Jr.       sa920245 2017-04-07  TOR   (A) <a href='https://github.com/LAD'>@LAD</a> .500 1  4  4 2
3  Vladimir Guerrero Jr.       sa920245 2017-04-08  TOR   (A)  LAD .500 1  4  5 2
4  Vladimir Guerrero Jr.       sa920245 2017-04-09  TOR   (A)  LAD .333 1  3  5 1
5  Vladimir Guerrero Jr.       sa920245 2017-04-10  TOR   (A) <a href='https://github.com/TBR'>@TBR</a> .250 1  4  4 1
6  Vladimir Guerrero Jr.       sa920245 2017-04-12  TOR   (A) <a href='https://github.com/TBR'>@TBR</a> .000 1  3  4 0
7  Vladimir Guerrero Jr.       sa920245 2017-04-12  TOR   (A) <a href='https://github.com/TBR'>@TBR</a> .667 1  3  3 2
8  Vladimir Guerrero Jr.       sa920245 2017-04-13  TOR   (A)  CLE .000 1  3  4 0
9  Vladimir Guerrero Jr.       sa920245 2017-04-14  TOR   (A)  CLE .000 1  3  4 0
10 Vladimir Guerrero Jr.       sa920245 2017-04-15  TOR   (A)  CLE .333 1  3  4 1</code></pre>
</div>
<div id="updgrades" class="section level2">
<h2 class="hasAnchor">
<a href="#updgrades" class="anchor"></a>Updgrades</h2>
<p><code><a href="../reference/ncaa_scrape.html">ncaa_scrape()</a></code></p>
<ul>
<li>Updated to allow scraping of data for the 2019 season.</li>
</ul>
<p><code><a href="../reference/edge_code.html">edge_code()</a></code></p>
<ul>
<li>
<p>Changes made to make function more compatible with <a href="https://baseballsavant.mlb.com">BaseballSavant</a> data.</p>
<h2 id="bug-fixes">Bug Fixes</h2>
</li>
</ul>
<p><code><a href="../reference/fg_bat_leaders.html">fg_bat_leaders()</a></code></p>
<ul>
<li>
<code>playerid</code> now returned as part of the data returned.</li>
</ul>
<p><code><a href="../reference/run_expectancy_code.html">run_expectancy_code()</a></code></p>
<ul>
<li>Removed filter for <code>final pitch==1</code> when not grouping by plate appearances.</li>
</ul>
</div>
</div>
    <div id="baseballr-034-2018-05-29" class="section level1">
<h1 class="page-header" data-toc-text="0.3.4">
<a href="#baseballr-034-2018-05-29" class="anchor"></a>baseballr 0.3.4 (2018-05-29)</h1>
<ul>
<li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul>
<p>The latest release of the <a href="https://billpetti.github.io/baseballr/"><code>baseballr</code></a> package for <code>R</code> (0.3.4) includes a number of enhancements and bug fixes.</p>
<div id="new-functions-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-3" class="anchor"></a>New Functions</h2>
<p><code><a href="../reference/run_expectancy_code.html">run_expectancy_code()</a></code></p>
<p>This function formats Baseball Savant data so that users can generate the run expectancy for different base-out or count-base-out states. It will also append the data frame with new variables necessary for generating linear weights (see new function below). The only argument is a data frame downloaded from Baseball Savant</p>
<p>Columns created and appended to Baseball Savant data:</p>
<ul>
<li>
<code>final_pitch_game</code>: whether a pitch was the final one thrown in a game</li>
<li>
<code>final_pitch_inning</code>: whether a pitch is the final one thrown in an inning</li>
<li>
<code>final_pitch_at_bat</code>: whether a pitch is the final one thrown in an at bat</li>
<li>
<code>runs_scored_on_pitch</code>: how many runs scored as a result of the pitch</li>
<li>
<code>bat_score_start_inning</code>: the score for the batting team at the beginning of the inning</li>
<li>
<code>bat_score_end_inning</code>: the score for the batting team at the end of the inning</li>
<li>
<code>bat_score_after</code>: the score for the batting team after the pitch is thrown</li>
<li>
<code>cum_runs_in_inning</code>: how many cumulative runs have been scored from the beginning of the inning through the pitch</li>
<li>
<code>runs_to_end_inning</code>: how many runs were scored as a result of the pitch through the end of the inning</li>
<li>
<code>base_out_state</code> or <code>count_base_out_state</code>: the specific combination of base-outs or count-base-outs when the pitch was thrown</li>
<li>
<code>avg_re</code>: the average run expectancy of that base-out or count-base-out state</li>
<li>
<code>next_avg_re</code>: the average run expectancy of the base-out or count-base-out state that results from the pitch</li>
<li>
<code>change_re</code>: the change in run expectancy as a result of the pitch</li>
<li>
<code>re24</code>: the total change in run expectancy through the end of the inning resulting from the pitch based on the change in base-out or count-base-out state plus the number of runs scored as a result of the pitch/at bat</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x2016_statcast_re <span class="ot">&lt;-</span> <span class="fu">run_expectancy_code</span>(x2016_statcast)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">sample_n</span>(x2016_statcast_re, <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(final_pitch_inning<span class="sc">:</span>re24) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>Observations<span class="sc">:</span> <span class="dv">10</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>Variables<span class="sc">:</span> <span class="dv">11</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> final_pitch_inning     <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> bat_score_start_inning <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> bat_score_end_inning   <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> cum_runs_in_inning     <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> runs_to_end_inning     <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> base_out_state         <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="st">"2  outs,  1b _ _"</span>, <span class="st">"0  outs,  _ _ _"</span>, <span class="st">"0  outs...</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="st">$ avg_re                 &lt;dbl&gt; 0.2149885, 0.5057877, 0.5057877, 0.5057877, 0.5...</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="st">$ next_base_out_state    &lt;chr&gt; "</span><span class="dv">2</span>  outs,  1b 2b _<span class="st">", "</span><span class="dv">1</span>  outs,  _ _ _<span class="st">", "</span><span class="dv">1</span>  out...</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> next_avg_re            <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="fl">0.4063525</span>, <span class="fl">0.2718802</span>, <span class="fl">0.2718802</span>, <span class="fl">0.8629357</span>, <span class="dv">0</span>.<span class="dv">2</span>...</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> change_re              <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="fl">0.1913640</span>, <span class="sc">-</span><span class="fl">0.2339075</span>, <span class="sc">-</span><span class="fl">0.2339075</span>, <span class="fl">0.3571479</span>, <span class="sc">-</span>...</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span> re24                   <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="fl">0.1913640</span>, <span class="sc">-</span><span class="fl">0.2339075</span>, <span class="sc">-</span><span class="fl">0.2339075</span>, <span class="fl">0.3571479</span>, <span class="sc">-</span>...</span></code></pre></div>
<p><code><a href="../reference/run_expectancy_table.html">run_expectancy_table()</a></code></p>
<p>This functions works with the <code>run_expectancy_code</code> function and does the work of generating the run expectancy tables that are automatically exported into the Global Environment</p>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x2016_statcast_re <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">run_expectancy_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>base_out_state     avg_re</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>chr<span class="sc">&gt;</span>               <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">0</span>  outs,  1b 2b 3b  <span class="fl">2.13</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">0</span>  outs,  _ 2b 3b   <span class="fl">1.95</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">0</span>  outs,  1b _ 3b   <span class="fl">1.76</span> </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">1</span>  outs,  1b 2b 3b  <span class="fl">1.55</span> </span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">0</span>  outs,  1b 2b _   <span class="fl">1.42</span> </span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">1</span>  outs,  _ 2b 3b   <span class="fl">1.36</span> </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="dv">0</span>  outs,  _ _ 3b    <span class="fl">1.36</span> </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="dv">1</span>  outs,  1b _ 3b   <span class="fl">1.18</span> </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span> <span class="dv">0</span>  outs,  _ 2b _    <span class="fl">1.14</span> </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="dv">1</span>  outs,  _ _ 3b    <span class="fl">0.951</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="dv">1</span>  outs,  1b 2b _   <span class="fl">0.906</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="dv">0</span>  outs,  1b _ _    <span class="fl">0.863</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="dv">2</span>  outs,  1b 2b 3b  <span class="fl">0.689</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="dv">1</span>  outs,  _ 2b _    <span class="fl">0.669</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> <span class="dv">2</span>  outs,  _ 2b 3b   <span class="fl">0.525</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span> <span class="dv">1</span>  outs,  1b _ _    <span class="fl">0.520</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span> <span class="dv">0</span>  outs,  _ _ _     <span class="fl">0.506</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="dv">2</span>  outs,  1b _ 3b   <span class="fl">0.456</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="dv">2</span>  outs,  1b 2b _   <span class="fl">0.406</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="dv">2</span>  outs,  _ _ 3b    <span class="fl">0.366</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> <span class="dv">2</span>  outs,  _ 2b _    <span class="fl">0.299</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="dv">22</span> <span class="dv">1</span>  outs,  _ _ _     <span class="fl">0.272</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="dv">23</span> <span class="dv">2</span>  outs,  1b _ _    <span class="fl">0.215</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span> <span class="dv">2</span>  outs,  _ _ _     <span class="fl">0.106</span></span></code></pre></div>
<p><code><a href="../reference/linear_weights_savant.html">linear_weights_savant()</a></code></p>
<p>This function works in tandem with <code><a href="../reference/run_expectancy_code.html">run_expectancy_code()</a></code> to generate linear weights for offensive events after the Baseball Savant data has been properly formatted. Currently, the function will return linear weights above average and linear weights above outs. It does not apply any scaling to align with league wOBA. Users can do that themselves if they like, or it may be added to a future version of the function.</p>
<p>Example:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> x2016_statcast_re <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">linear_weights_savant</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n=</span><span class="cn">Inf</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>A tibble<span class="sc">:</span> <span class="dv">7</span> x <span class="dv">3</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>events       linear_weights_above_average linear_weights_above_outs</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                               <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>                     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> home_run                            <span class="fl">1.38</span>                      <span class="fl">1.63</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> triple                              <span class="fl">1.00</span>                      <span class="fl">1.25</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> double                              <span class="fl">0.730</span>                     <span class="fl">0.980</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> single                              <span class="fl">0.440</span>                     <span class="fl">0.690</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> hit_by_pitch                        <span class="fl">0.320</span>                     <span class="fl">0.570</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> walk                                <span class="fl">0.290</span>                     <span class="fl">0.540</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> outs                               <span class="sc">-</span><span class="fl">0.250</span>                     <span class="fl">0.</span>   </span></code></pre></div>
<p>I used Baseball Savant data from 2010-2015 and compared the linear weights generated by <code>baseballr</code> to those by Tom Tango using retrosheet data. <code>baseballr</code>’s weights are generally a little lower than what Tango generated, but that could be due to a number of things, such as the data source, code, etc., but the values appear reasonable enough to be reliable:</p>
<table>
<thead><tr class="header">
<th>base_out_state</th>
<th>baseballr_2010_2015</th>
<th>tango_2010_2015</th>
<th>diff</th>
<th>%_diff</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0 outs, 1b 2b 3b</td>
<td>2.27</td>
<td>2.29</td>
<td>-0.02</td>
<td>-1%</td>
</tr>
<tr class="even">
<td>0 outs, _ 2b 3b</td>
<td>1.96</td>
<td>1.96</td>
<td>0</td>
<td>0%</td>
</tr>
<tr class="odd">
<td>0 outs, 1b _ 3b</td>
<td>1.76</td>
<td>1.78</td>
<td>-0.03</td>
<td>-1%</td>
</tr>
<tr class="even">
<td>1 outs, 1b 2b 3b</td>
<td>1.51</td>
<td>1.54</td>
<td>-0.03</td>
<td>-2%</td>
</tr>
<tr class="odd">
<td>0 outs, 1b 2b _</td>
<td>1.42</td>
<td>1.44</td>
<td>-0.02</td>
<td>-1%</td>
</tr>
<tr class="even">
<td>0 outs, _ _ 3b</td>
<td>1.38</td>
<td>1.38</td>
<td>0</td>
<td>0%</td>
</tr>
<tr class="odd">
<td>1 outs, _ 2b 3b</td>
<td>1.35</td>
<td>1.35</td>
<td>0</td>
<td>0%</td>
</tr>
<tr class="even">
<td>1 outs, 1b _ 3b</td>
<td>1.1</td>
<td>1.13</td>
<td>-0.03</td>
<td>-2%</td>
</tr>
<tr class="odd">
<td>0 outs, _ 2b _</td>
<td>1.09</td>
<td>1.1</td>
<td>-0.01</td>
<td>-1%</td>
</tr>
<tr class="even">
<td>1 outs, _ _ 3b</td>
<td>0.93</td>
<td>0.95</td>
<td>-0.02</td>
<td>-2%</td>
</tr>
<tr class="odd">
<td>1 outs, 1b 2b _</td>
<td>0.86</td>
<td>0.88</td>
<td>-0.02</td>
<td>-3%</td>
</tr>
<tr class="even">
<td>0 outs, 1b _ _</td>
<td>0.84</td>
<td>0.86</td>
<td>-0.02</td>
<td>-2%</td>
</tr>
<tr class="odd">
<td>2 outs, 1b 2b 3b</td>
<td>0.71</td>
<td>0.75</td>
<td>-0.04</td>
<td>-5%</td>
</tr>
<tr class="even">
<td>1 outs, _ 2b _</td>
<td>0.65</td>
<td>0.66</td>
<td>-0.01</td>
<td>-2%</td>
</tr>
<tr class="odd">
<td>2 outs, _ 2b 3b</td>
<td>0.54</td>
<td>0.58</td>
<td>-0.04</td>
<td>-7%</td>
</tr>
<tr class="even">
<td>1 outs, 1b _ _</td>
<td>0.5</td>
<td>0.51</td>
<td>-0.01</td>
<td>-2%</td>
</tr>
<tr class="odd">
<td>0 outs, _ _ _</td>
<td>0.48</td>
<td>0.48</td>
<td>0</td>
<td>-1%</td>
</tr>
<tr class="even">
<td>2 outs, 1b _ 3b</td>
<td>0.45</td>
<td>0.48</td>
<td>-0.03</td>
<td>-7%</td>
</tr>
<tr class="odd">
<td>2 outs, 1b 2b _</td>
<td>0.41</td>
<td>0.43</td>
<td>-0.02</td>
<td>-4%</td>
</tr>
<tr class="even">
<td>2 outs, _ _ 3b</td>
<td>0.33</td>
<td>0.35</td>
<td>-0.02</td>
<td>-6%</td>
</tr>
<tr class="odd">
<td>2 outs, _ 2b _</td>
<td>0.31</td>
<td>0.32</td>
<td>-0.01</td>
<td>-3%</td>
</tr>
<tr class="even">
<td>1 outs, _ _ _</td>
<td>0.25</td>
<td>0.25</td>
<td>0</td>
<td>-1%</td>
</tr>
<tr class="odd">
<td>2 outs, 1b _ _</td>
<td>0.21</td>
<td>0.22</td>
<td>-0.01</td>
<td>-6%</td>
</tr>
<tr class="even">
<td>2 outs, _ _ _</td>
<td>0.1</td>
<td>0.1</td>
<td>0</td>
<td>-2%</td>
</tr>
</tbody>
</table>
<p>We also had some great contributions by others that I’ve added into this release:</p>
<p><code><a href="../reference/label_statcast_imputed_data.html">label_statcast_imputed_data()</a></code></p>
<p><a href="https://github.com/bdilday">Ben Dilday</a> again contributes with a cool experimental function meant to tag batted ball cases where significant imputation may have been used to generate some of the Statcast values by MLBAM, i.e. <code>launch_speed</code> and <code>launch_angle</code>. You can read more about Ben’s function <a href="https://github.com/BillPetti/baseballr/pull/71">here</a>.</p>
<p><code><a href="../reference/fg_park.html">fg_park()</a></code></p>
<p><a href="https://github.com/sboysel">Sam Boysel</a> updated the park factors function so that it now includes the new columns added by FanGraphs (5-year, 3-year, 1-year park factors) and ensures the column names are correct</p>
</div>
<div id="updgrades-1" class="section level2">
<h2 class="hasAnchor">
<a href="#updgrades-1" class="anchor"></a>Updgrades</h2>
<p><code><a href="../reference/fg_bat_leaders.html">fg_bat_leaders()</a></code></p>
<ul>
<li>
<code>playerid</code> now returned as part of the data returned.<br>
</li>
<li>Dozens of additional variables are also returned, including aggregate data from Pitch Info as well as contact type.</li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug Fixes</h2>
<p><code><a href="../reference/process_statcast_payload.html">process_statcast_payload()</a></code></p>
<ul>
<li>hc_x, hc_y are now converted to numeric</li>
</ul>
</div>
</div>
    <div id="baseballr-033-2017-05-08" class="section level1">
<h1 class="page-header" data-toc-text="0.3.3">
<a href="#baseballr-033-2017-05-08" class="anchor"></a>baseballr 0.3.3 (2017-05-08)</h1>
<p>The latest release of the <a href="https://billpetti.github.io/baseballr/"><code>baseballr</code></a> package for <code>R</code> includes a number of enhancement to acquiring data from <a href="http://baseballsavant.com">Baseball Savant</a> as well as minor grammatical clean up in the documentation.</p>
<p>Previous functions <code>scrape_statcast_savant_batter</code> and <code>scrape_statcast_savant_pitcher</code> allowed for the acquistion of data from baseballsavant.com for a given player over a user-determined time frame. However, this is somewhat inefficient if you want to acquire data on all players over a given time frame.</p>
<p>Two new functions have been added, <code>scrape_statcast_savant_batter_all</code> and <code>scrape_statcast_savant_pitcher_all</code>, that allow a user to acquire data for either all pitchers or all hitters over a given time frame.</p>
<p>Both functions take only two arguments:</p>
<p><code>start_date</code>: the first date for which the user wants records returned <code>end_date</code>: the final date for which the user wants records returned</p>
<p>Remember, baseballsavant.com’s csv download option allows for about 50,000 records in a single query. That works out to roughly 10-12 days of games. Longer time frames will take longer to download.</p>
<p>Example: acquire data for all batters from 2017-04-03 through 2017-04-10</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">head</span>(<span class="fu">scrape_statcast_savant_batter_all</span>(<span class="st">'2017-04-03'</span>, <span class="st">'2017-04-10'</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"These data are from BaseballSevant and are property of MLB Advanced Media, L.P. All rights reserved."</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Grabbing data, this may take a minute..."</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>URL read and payload aquired successfully.</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  pitch_type  game_date release_speed release_pos_x release_pos_z  player_name</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         FF <span class="dv">2017-04-10</span>          <span class="fl">92.7</span>       <span class="sc">-</span><span class="fl">1.0367</span>        <span class="fl">5.7934</span>   Eric Fryer</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         FF <span class="dv">2017-04-10</span>          <span class="fl">93.2</span>       <span class="sc">-</span><span class="fl">0.9753</span>        <span class="fl">5.6007</span>   Eric Fryer</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         FF <span class="dv">2017-04-10</span>          <span class="fl">93.0</span>       <span class="sc">-</span><span class="fl">1.1196</span>        <span class="fl">5.6958</span>   Eric Fryer</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         FF <span class="dv">2017-04-10</span>          <span class="fl">93.1</span>       <span class="sc">-</span><span class="fl">0.9952</span>        <span class="fl">5.7978</span>   Eric Fryer</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         SL <span class="dv">2017-04-10</span>          <span class="fl">83.4</span>       <span class="sc">-</span><span class="fl">1.2385</span>        <span class="fl">5.8164</span>   Eric Fryer</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         FF <span class="dv">2017-04-10</span>          <span class="fl">93.7</span>       <span class="sc">-</span><span class="fl">1.0307</span>        <span class="fl">5.8740</span> Aledmys Diaz</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  batter pitcher    events     description spin_dir spin_rate_deprecated</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">518700</span>  <span class="dv">518875</span> strikeout swinging_strike       <span class="cn">NA</span>                   <span class="cn">NA</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">518700</span>  <span class="dv">518875</span>      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>            ball       <span class="cn">NA</span>                   <span class="cn">NA</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">518700</span>  <span class="dv">518875</span>      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>            ball       <span class="cn">NA</span>                   <span class="cn">NA</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">518700</span>  <span class="dv">518875</span>      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span> swinging_strike       <span class="cn">NA</span>                   <span class="cn">NA</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">518700</span>  <span class="dv">518875</span>      <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   called_strike       <span class="cn">NA</span>                   <span class="cn">NA</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">649557</span>  <span class="dv">518875</span> field_out   hit_into_play       <span class="cn">NA</span>                   <span class="cn">NA</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  break_angle_deprecated break_length_deprecated zone</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>                     <span class="cn">NA</span>                      <span class="cn">NA</span>    <span class="dv">5</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>                     <span class="cn">NA</span>                      <span class="cn">NA</span>   <span class="dv">12</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                     <span class="cn">NA</span>                      <span class="cn">NA</span>   <span class="dv">12</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>                     <span class="cn">NA</span>                      <span class="cn">NA</span>    <span class="dv">3</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>                     <span class="cn">NA</span>                      <span class="cn">NA</span>    <span class="dv">6</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>                     <span class="cn">NA</span>                      <span class="cn">NA</span>    <span class="dv">6</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>                                                      des game_type stand</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>                      Eric Fryer strikes out swinging.           R     R</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>                                                    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>         R     R</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                                                    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>         R     R</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>                                                    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>         R     R</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>                                                    <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>         R     R</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> Aledmys Diaz flies out to right fielder Bryce Harper.           R     R</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  p_throws home_team away_team type hit_location  bb_type balls strikes</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        R       WSH       STL    S         <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="dv">2</span>       <span class="dv">2</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>        R       WSH       STL    B         <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="dv">1</span>       <span class="dv">2</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>        R       WSH       STL    B         <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="dv">0</span>       <span class="dv">2</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>        R       WSH       STL    S         <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="dv">0</span>       <span class="dv">1</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>        R       WSH       STL    S         <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>     <span class="dv">0</span>       <span class="dv">0</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>        R       WSH       STL    X            <span class="dv">9</span> fly_ball     <span class="dv">0</span>       <span class="dv">1</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  game_year   pfx_x  pfx_z plate_x plate_z on_3b on_2b  on_1b outs_when_up</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      <span class="dv">2017</span> <span class="sc">-</span><span class="fl">0.4262</span> <span class="fl">1.7261</span> <span class="sc">-</span><span class="fl">0.0042</span>  <span class="fl">2.9680</span>    <span class="cn">NA</span>    <span class="cn">NA</span> <span class="dv">594824</span>            <span class="dv">2</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      <span class="dv">2017</span>  <span class="fl">0.2420</span> <span class="fl">1.3633</span>  <span class="fl">1.3747</span>  <span class="fl">3.5269</span>    <span class="cn">NA</span>    <span class="cn">NA</span> <span class="dv">594824</span>            <span class="dv">2</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>      <span class="dv">2017</span>  <span class="fl">0.4912</span> <span class="fl">1.6758</span>  <span class="fl">0.5389</span>  <span class="fl">4.3795</span>    <span class="cn">NA</span>    <span class="cn">NA</span> <span class="dv">594824</span>            <span class="dv">2</span></span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>      <span class="dv">2017</span>  <span class="fl">0.1924</span> <span class="fl">1.7964</span>  <span class="fl">0.6868</span>  <span class="fl">3.5700</span>    <span class="cn">NA</span>    <span class="cn">NA</span> <span class="dv">594824</span>            <span class="dv">2</span></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>      <span class="dv">2017</span> <span class="sc">-</span><span class="fl">0.1604</span> <span class="fl">0.3532</span>  <span class="fl">0.6048</span>  <span class="fl">2.6308</span>    <span class="cn">NA</span>    <span class="cn">NA</span> <span class="dv">594824</span>            <span class="dv">2</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>      <span class="dv">2017</span>  <span class="fl">0.5956</span> <span class="fl">1.8068</span>  <span class="fl">0.4993</span>  <span class="fl">3.1386</span>    <span class="cn">NA</span>    <span class="cn">NA</span> <span class="dv">594824</span>            <span class="dv">1</span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>  inning inning_topbot   hc_x   hc_y tfs_deprecated tfs_zulu_deprecated</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      <span class="dv">9</span>           Top   <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>             <span class="cn">NA</span>                  <span class="cn">NA</span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      <span class="dv">9</span>           Top   <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>             <span class="cn">NA</span>                  <span class="cn">NA</span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>      <span class="dv">9</span>           Top   <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>             <span class="cn">NA</span>                  <span class="cn">NA</span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>      <span class="dv">9</span>           Top   <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>             <span class="cn">NA</span>                  <span class="cn">NA</span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>      <span class="dv">9</span>           Top   <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>             <span class="cn">NA</span>                  <span class="cn">NA</span></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>      <span class="dv">9</span>           Top <span class="fl">186.56</span> <span class="fl">105.27</span>             <span class="cn">NA</span>                  <span class="cn">NA</span></span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>  pos2_person_id umpire         sv_id vx0 vy0 vz0 ax ay az sz_top sz_bot</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         <span class="dv">446308</span>     <span class="cn">NA</span> 170411_025210  <span class="cn">NA</span>  <span class="cn">NA</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">3.8420</span> <span class="fl">1.5890</span></span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         <span class="dv">446308</span>     <span class="cn">NA</span> 170411_025153  <span class="cn">NA</span>  <span class="cn">NA</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">3.5602</span> <span class="fl">1.7127</span></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         <span class="dv">446308</span>     <span class="cn">NA</span> 170411_025133  <span class="cn">NA</span>  <span class="cn">NA</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">3.6761</span> <span class="fl">1.6780</span></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         <span class="dv">446308</span>     <span class="cn">NA</span> 170411_025117  <span class="cn">NA</span>  <span class="cn">NA</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">3.6760</span> <span class="fl">1.5040</span></span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         <span class="dv">446308</span>     <span class="cn">NA</span> 170411_025104  <span class="cn">NA</span>  <span class="cn">NA</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">3.5139</span> <span class="fl">1.6548</span></span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         <span class="dv">446308</span>     <span class="cn">NA</span> 170411_025018  <span class="cn">NA</span>  <span class="cn">NA</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">3.9500</span> <span class="fl">1.6810</span></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>  hit_distance_sc launch_speed launch_angle effective_speed release_spin_rate</span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>              <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>          <span class="fl">93.033</span>              <span class="dv">2285</span></span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>              <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>          <span class="fl">93.301</span>              <span class="dv">2323</span></span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>              <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>          <span class="fl">92.892</span>              <span class="dv">2322</span></span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>              <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>          <span class="fl">92.906</span>              <span class="dv">2324</span></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>              <span class="cn">NA</span>           <span class="cn">NA</span>           <span class="cn">NA</span>          <span class="fl">83.371</span>                <span class="cn">NA</span></span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>             <span class="dv">266</span>         <span class="fl">87.5</span>       <span class="fl">47.444</span>          <span class="fl">93.529</span>              <span class="dv">2406</span></span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>  release_extension game_pk pos1_person_id pos2_person_id<span class="fl">.1</span> pos3_person_id</span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>             <span class="fl">6.248</span>  <span class="dv">490201</span>         <span class="dv">518875</span>           <span class="dv">446308</span>         <span class="dv">475582</span></span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>             <span class="fl">6.265</span>  <span class="dv">490201</span>         <span class="dv">518875</span>           <span class="dv">446308</span>         <span class="dv">475582</span></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>             <span class="fl">6.281</span>  <span class="dv">490201</span>         <span class="dv">518875</span>           <span class="dv">446308</span>         <span class="dv">475582</span></span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>             <span class="fl">6.187</span>  <span class="dv">490201</span>         <span class="dv">518875</span>           <span class="dv">446308</span>         <span class="dv">475582</span></span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>             <span class="fl">6.155</span>  <span class="dv">490201</span>         <span class="dv">518875</span>           <span class="dv">446308</span>         <span class="dv">475582</span></span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>             <span class="fl">6.269</span>  <span class="dv">490201</span>         <span class="dv">518875</span>           <span class="dv">446308</span>         <span class="dv">475582</span></span>
<span id="cb11-75"><a href="#cb11-75" aria-hidden="true" tabindex="-1"></a>  pos4_person_id pos5_person_id pos6_person_id pos7_person_id pos8_person_id</span>
<span id="cb11-76"><a href="#cb11-76" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         <span class="dv">502517</span>         <span class="dv">543685</span>         <span class="dv">452220</span>         <span class="dv">594809</span>         <span class="dv">572191</span></span>
<span id="cb11-77"><a href="#cb11-77" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         <span class="dv">502517</span>         <span class="dv">543685</span>         <span class="dv">452220</span>         <span class="dv">594809</span>         <span class="dv">572191</span></span>
<span id="cb11-78"><a href="#cb11-78" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         <span class="dv">502517</span>         <span class="dv">543685</span>         <span class="dv">452220</span>         <span class="dv">594809</span>         <span class="dv">572191</span></span>
<span id="cb11-79"><a href="#cb11-79" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         <span class="dv">502517</span>         <span class="dv">543685</span>         <span class="dv">452220</span>         <span class="dv">594809</span>         <span class="dv">572191</span></span>
<span id="cb11-80"><a href="#cb11-80" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         <span class="dv">502517</span>         <span class="dv">543685</span>         <span class="dv">452220</span>         <span class="dv">594809</span>         <span class="dv">572191</span></span>
<span id="cb11-81"><a href="#cb11-81" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         <span class="dv">502517</span>         <span class="dv">543685</span>         <span class="dv">452220</span>         <span class="dv">594809</span>         <span class="dv">572191</span></span>
<span id="cb11-82"><a href="#cb11-82" aria-hidden="true" tabindex="-1"></a>  pos9_person_id release_pos_y estimated_ba_using_speedangle</span>
<span id="cb11-83"><a href="#cb11-83" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>         <span class="dv">547180</span>       <span class="fl">54.2491</span>                         <span class="fl">0.000</span></span>
<span id="cb11-84"><a href="#cb11-84" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>         <span class="dv">547180</span>       <span class="fl">54.2319</span>                         <span class="fl">0.000</span></span>
<span id="cb11-85"><a href="#cb11-85" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>         <span class="dv">547180</span>       <span class="fl">54.2163</span>                         <span class="fl">0.000</span></span>
<span id="cb11-86"><a href="#cb11-86" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>         <span class="dv">547180</span>       <span class="fl">54.3096</span>                         <span class="fl">0.000</span></span>
<span id="cb11-87"><a href="#cb11-87" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>         <span class="dv">547180</span>       <span class="fl">54.3420</span>                         <span class="fl">0.000</span></span>
<span id="cb11-88"><a href="#cb11-88" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>         <span class="dv">547180</span>       <span class="fl">54.2282</span>                         <span class="fl">0.007</span></span>
<span id="cb11-89"><a href="#cb11-89" aria-hidden="true" tabindex="-1"></a>  estimated_woba_using_speedangle woba_value woba_denom babip_value iso_value</span>
<span id="cb11-90"><a href="#cb11-90" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>                           <span class="fl">0.000</span>       <span class="fl">0.00</span>          <span class="dv">1</span>           <span class="dv">0</span>         <span class="dv">0</span></span>
<span id="cb11-91"><a href="#cb11-91" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>                           <span class="fl">0.000</span>       <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>        <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb11-92"><a href="#cb11-92" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                           <span class="fl">0.000</span>       <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>        <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb11-93"><a href="#cb11-93" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>                           <span class="fl">0.000</span>       <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>        <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb11-94"><a href="#cb11-94" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>                           <span class="fl">0.000</span>       <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>        <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb11-95"><a href="#cb11-95" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>                           <span class="fl">0.008</span>       <span class="fl">0.00</span>          <span class="dv">1</span>           <span class="dv">0</span>         <span class="dv">0</span></span>
<span id="cb11-96"><a href="#cb11-96" aria-hidden="true" tabindex="-1"></a>  barrel</span>
<span id="cb11-97"><a href="#cb11-97" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="cn">NA</span></span>
<span id="cb11-98"><a href="#cb11-98" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="cn">NA</span></span>
<span id="cb11-99"><a href="#cb11-99" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="cn">NA</span></span>
<span id="cb11-100"><a href="#cb11-100" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="cn">NA</span></span>
<span id="cb11-101"><a href="#cb11-101" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="cn">NA</span></span>
<span id="cb11-102"><a href="#cb11-102" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>      <span class="dv">0</span></span></code></pre></div>
</div>
    <div id="baseballr-032-2017-09-12" class="section level1">
<h1 class="page-header" data-toc-text="0.3.2">
<a href="#baseballr-032-2017-09-12" class="anchor"></a>baseballr 0.3.2 (2017-09-12)</h1>
<p>The latest release of the <a href="https://billpetti.github.io/baseballr/"><code>baseballr</code></a> package for <code>R</code> includes a number of enhancements and bug fixes.</p>
<p>In terms of new functions, <code>statline_from_statcast</code> allows users to take raw pitch-by-pitch data from Statcast/PITCHf/x and calculate aggregated, statline-like output. Examples include count data such as number of singles, doubles, etc., as well as rate metrics like Slugging and wOBA on swings or contact.</p>
<p>The function only has two arguments:</p>
<ul>
<li>
<code>df</code>: a dataframe that includes pitch-by-pitch information. The function assumes the following columns are present: <code>events</code>, <code>description</code>, <code>game_date</code>, and <code>type</code>.</li>
<li>
<code>base</code>: base indicates what the denomincator should be for the rate stats that are calculated. The function defaults to “swings”, but you can also choose to use “contact”</li>
</ul>
<p>Here is an example using all data from the week of 2017-09-04. Here, we want to see a statline for all hitters based on swings:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">scrape_statcast_savant_batter_all</span>(<span class="st">"2017-09-04"</span>, <span class="st">"2017-09-10"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">statline_from_statcast</span>(test)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>year swings batted_balls  X1B X2B X3B  HR swing_and_miss swinging_strike_percent    ba</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">2017</span>  <span class="dv">13790</span>        <span class="dv">10663</span> <span class="dv">1129</span> <span class="dv">352</span>  <span class="dv">37</span> <span class="dv">259</span>           <span class="dv">3127</span>                   <span class="fl">0.227</span> <span class="fl">0.129</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>obp   slg   ops  woba</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">0.129</span> <span class="fl">0.216</span> <span class="fl">0.345</span> <span class="fl">0.144</span></span></code></pre></div>
<p>You can also combine the <code>statline_from_statcast</code> function with a loop to create statlines for multiple players at once.</p>
<p>Example: calculate statlines for batters on contact for all games played 2017-09-04 through 2017-09-10:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">scrape_statcast_savant_batter_all</span>(<span class="st">"2017-09-04"</span>, <span class="st">"2017-09-10"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>output <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"Jose Ramirez"</span>, <span class="st">"J.D. Martinez"</span>, <span class="st">"Francisco Lindor"</span>, <span class="st">"Gary Sanchez"</span>, <span class="st">"Rhys Hoskins"</span>)) {</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  reduced_test <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(player_name <span class="sc">==</span> i)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">statline_from_statcast</span>(reduced_test, <span class="at">base =</span> <span class="st">"contact"</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  x<span class="sc">$</span>player <span class="ot">&lt;-</span> i</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">%&gt;%</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(player, <span class="fu">everything</span>())</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  output <span class="ot">&lt;-</span> <span class="fu">rbind</span>(output, x) <span class="sc">%&gt;%</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(woba))</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(output, <span class="at">width =</span> <span class="cn">Inf</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 5 x 12</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>            player  year batted_balls   X1B   X2B   X3B    HR    ba   obp   slg   ops  woba</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>             <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    J.D. Martinez  <span class="dv">2017</span>           <span class="dv">17</span>     <span class="dv">4</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">7</span> <span class="fl">0.706</span> <span class="fl">0.706</span> <span class="fl">2.000</span> <span class="fl">2.706</span> <span class="fl">1.092</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     Gary Sanchez  <span class="dv">2017</span>           <span class="dv">11</span>     <span class="dv">3</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">2</span> <span class="fl">0.545</span> <span class="fl">0.545</span> <span class="fl">1.182</span> <span class="fl">1.727</span> <span class="fl">0.710</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Francisco Lindor  <span class="dv">2017</span>           <span class="dv">27</span>     <span class="dv">4</span>     <span class="dv">2</span>     <span class="dv">1</span>     <span class="dv">3</span> <span class="fl">0.370</span> <span class="fl">0.370</span> <span class="fl">0.852</span> <span class="fl">1.222</span> <span class="fl">0.498</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     Rhys Hoskins  <span class="dv">2017</span>           <span class="dv">14</span>     <span class="dv">2</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">2</span> <span class="fl">0.357</span> <span class="fl">0.357</span> <span class="fl">0.857</span> <span class="fl">1.214</span> <span class="fl">0.495</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     Jose Ramirez  <span class="dv">2017</span>           <span class="dv">16</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">3</span> <span class="fl">0.188</span> <span class="fl">0.188</span> <span class="fl">0.750</span> <span class="fl">0.938</span> <span class="fl">0.370</span></span></code></pre></div>
</div>
    <div id="baseballr-031-2016-11-22" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1">
<a href="#baseballr-031-2016-11-22" class="anchor"></a>baseballr 0.3.1 (2016-11-22)</h1>
<p>The latest release of the <a href="https://billpetti.github.io/baseballr/"><code>baseballr</code></a> includes a function for acquiring player statistics from the <a href="http://stats.ncaa.org">NCAA’s website</a> for baseball teams across the three major divisions (I, II, III).</p>
<p>The function, <code>ncaa_scrape</code>, requires the user to pass values for three parameters for the function to work:</p>
<p><code>school_id</code>: numerical code used by the NCAA for each school <code>year</code>: a four-digit year <code>type</code>: whether to pull data for batters or pitchers</p>
<p>If you want to pull batting statistics for Vanderbilt for the 2013 season, you would use the following:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> baseballr<span class="sc">::</span><span class="fu">ncaa_scrape</span>(<span class="dv">736</span>, <span class="dv">2013</span>, <span class="st">"batting"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">select</span>(year<span class="sc">:</span>OBPct)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>   year     school   conference division Jersey            Player Yr Pos GP GS    BA OBPct</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">18</span> Yastrzemski, Mike Sr  OF <span class="dv">66</span> <span class="dv">66</span> <span class="fl">0.312</span> <span class="fl">0.411</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">20</span>   Harrell, Connor Sr  OF <span class="dv">66</span> <span class="dv">66</span> <span class="fl">0.312</span> <span class="fl">0.418</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">3</span>      Conde, Vince So INF <span class="dv">66</span> <span class="dv">65</span> <span class="fl">0.307</span> <span class="fl">0.380</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">6</span>        Kemp, Tony Jr  OF <span class="dv">66</span> <span class="dv">66</span> <span class="fl">0.391</span> <span class="fl">0.471</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">55</span>    Gregor, Conrad Jr  OF <span class="dv">65</span> <span class="dv">65</span> <span class="fl">0.308</span> <span class="fl">0.440</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">9</span>    Turner, Xavier Fr INF <span class="dv">59</span> <span class="dv">51</span> <span class="fl">0.324</span> <span class="fl">0.387</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">5</span>    Navin, Spencer Jr   C <span class="dv">57</span> <span class="dv">56</span> <span class="fl">0.302</span> <span class="fl">0.430</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">51</span>        Lupo, Jack Sr  OF <span class="dv">57</span> <span class="dv">51</span> <span class="fl">0.297</span> <span class="fl">0.352</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">8</span>    Wiseman, Rhett Fr  OF <span class="dv">54</span> <span class="dv">11</span> <span class="fl">0.289</span> <span class="fl">0.360</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">10</span>     Norwood, John So  OF <span class="dv">33</span>  <span class="dv">9</span> <span class="fl">0.328</span> <span class="fl">0.388</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">43</span>      Wiel, Zander So INF <span class="dv">33</span> <span class="dv">15</span> <span class="fl">0.305</span> <span class="fl">0.406</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">44</span>     Harvey, Chris So   C <span class="dv">29</span> <span class="dv">13</span> <span class="fl">0.250</span> <span class="fl">0.328</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">42</span>   McKeithan, Joel Jr INF <span class="dv">25</span> <span class="dv">12</span> <span class="fl">0.220</span> <span class="fl">0.267</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">39</span>       Smith, Kyle Fr INF <span class="dv">23</span>  <span class="dv">7</span> <span class="fl">0.250</span> <span class="fl">0.455</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">17</span>    Harris, Andrew Sr INF <span class="dv">21</span>  <span class="dv">0</span> <span class="fl">0.125</span> <span class="fl">0.222</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">2</span>   Campbell, Tyler Fr INF <span class="dv">12</span>  <span class="dv">2</span> <span class="fl">0.312</span> <span class="fl">0.389</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="dv">7</span>   Swanson, Dansby Fr INF <span class="dv">11</span>  <span class="dv">4</span> <span class="fl">0.188</span> <span class="fl">0.435</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="dv">18</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">25</span>        Luna, D.J. Jr INF  <span class="dv">8</span>  <span class="dv">0</span> <span class="fl">0.000</span> <span class="fl">0.333</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="dv">19</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">23</span>      Cooper, Will So  OF  <span class="dv">4</span>  <span class="dv">0</span> <span class="fl">1.000</span> <span class="fl">1.000</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="sc">-</span>            Totals  <span class="sc">-</span>   <span class="sc">-</span>  <span class="sc">-</span>  <span class="sc">-</span> <span class="fl">0.313</span> <span class="fl">0.407</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="dv">21</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="sc">-</span>   Opponent Totals  <span class="sc">-</span>   <span class="sc">-</span>  <span class="sc">-</span>  <span class="sc">-</span> <span class="fl">0.220</span> <span class="fl">0.320</span></span></code></pre></div>
<p>The same can be done for pitching, just by changing the <code>type</code> parameter:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> baseballr<span class="sc">::</span><span class="fu">ncaa_scrape</span>(<span class="dv">736</span>, <span class="dv">2013</span>, <span class="st">"pitching"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">select</span>(year<span class="sc">:</span>ERA)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>   year     school   conference division Jersey           Player Yr Pos GP App GS  ERA</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">11</span>     Beede, Tyler So   P <span class="dv">37</span>  <span class="dv">17</span> <span class="dv">17</span> <span class="fl">2.32</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">33</span>    Miller, Brian So   P <span class="dv">32</span>  <span class="dv">32</span> <span class="cn">NA</span> <span class="fl">1.58</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">35</span>    Ziomek, Kevin Jr   P <span class="dv">32</span>  <span class="dv">17</span> <span class="dv">17</span> <span class="fl">2.12</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">15</span>   Fulmer, Carson Fr   P <span class="dv">26</span>  <span class="dv">26</span> <span class="cn">NA</span> <span class="fl">2.39</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">39</span>      Smith, Kyle Fr INF <span class="dv">23</span>   <span class="dv">1</span> <span class="cn">NA</span> <span class="fl">0.00</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">28</span>    Miller, Jared So   P <span class="dv">22</span>  <span class="dv">22</span> <span class="cn">NA</span> <span class="fl">2.31</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">19</span>     Rice, Steven Jr   P <span class="dv">21</span>  <span class="dv">21</span> <span class="cn">NA</span> <span class="fl">2.57</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">13</span>  Buehler, Walker Fr   P <span class="dv">16</span>  <span class="dv">16</span>  <span class="dv">9</span> <span class="fl">3.14</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">22</span>  Pfeifer, Philip So   P <span class="dv">15</span>  <span class="dv">15</span> <span class="dv">12</span> <span class="fl">3.68</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">12</span>  Ravenelle, Adam So   P <span class="dv">11</span>  <span class="dv">11</span> <span class="cn">NA</span> <span class="fl">3.18</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">40</span>   Pecoraro, T.J. Jr   P <span class="dv">10</span>  <span class="dv">10</span>  <span class="dv">7</span> <span class="fl">5.97</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">45</span>  Ferguson, Tyler Fr   P  <span class="dv">8</span>   <span class="dv">8</span>  <span class="dv">4</span> <span class="fl">4.21</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">27</span> Kolinsky, Keenan Jr   P  <span class="dv">2</span>   <span class="dv">2</span> <span class="cn">NA</span> <span class="fl">0.00</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>     <span class="dv">24</span>    Wilson, Nevin So   P  <span class="dv">1</span>   <span class="dv">1</span> <span class="cn">NA</span> <span class="fl">0.00</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="sc">-</span>           Totals  <span class="sc">-</span>   <span class="sc">-</span>  <span class="sc">-</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">2.76</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="dv">16</span> <span class="dv">2013</span> Vanderbilt Southeastern        <span class="dv">1</span>      <span class="sc">-</span>  Opponent Totals  <span class="sc">-</span>   <span class="sc">-</span>  <span class="sc">-</span>  <span class="cn">NA</span> <span class="cn">NA</span> <span class="fl">6.19</span></span></code></pre></div>
<p>Now, the function is dependent on the user knowing the <code>school_id</code> used by the NCAA website. Given that, I’ve included a <code>school_id_lu</code> function so that users can find the <code>school_id</code> they need.</p>
<p>Just pass a string to the function and it will return possible matches based on the school’s name:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">school_id_lu</span>(<span class="st">"Vand"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 4 × 6</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>      school   conference school_id  year division conference_id</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>       <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>    <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>         <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Vanderbilt Southeastern       <span class="dv">736</span>  <span class="dv">2013</span>        <span class="dv">1</span>           <span class="dv">911</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Vanderbilt Southeastern       <span class="dv">736</span>  <span class="dv">2014</span>        <span class="dv">1</span>           <span class="dv">911</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Vanderbilt Southeastern       <span class="dv">736</span>  <span class="dv">2015</span>        <span class="dv">1</span>           <span class="dv">911</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Vanderbilt Southeastern       <span class="dv">736</span>  <span class="dv">2016</span>        <span class="dv">1</span>           <span class="dv">911</span></span></code></pre></div>
</div>
    <div id="baseballr-021-2016-10-08" class="section level1">
<h1 class="page-header" data-toc-text="0.2.1">
<a href="#baseballr-021-2016-10-08" class="anchor"></a>baseballr 0.2.1 (2016-10-08)</h1>
<p>Updates to functions in this release:</p>
<p><code>scrape_statcast_savant_batter</code><br><code>scrape_statcast_savant_pitcher</code><br></p>
<p>New functions in this release:</p>
<p><code>code_barrel</code> <br></p>
<p>The research team at Major League Baseball Advanced Media have developed a way to categorize batted balls that on average having a batting average over .500 and slugging over 1.500. The specific coding criteria can be found in comment <a href='https://github.com/BillPetti/baseballr/issues/2'>#2</a> [here] (<a href="http://tangotiger.com/index.php/site/comments/statcast-lab-barrels<a href='https://github.com/BillPetti/baseballr/issues/2'>#2</a>" class="uri">http://tangotiger.com/index.php/site/comments/statcast-lab-barrels<a href='https://github.com/BillPetti/baseballr/issues/2'>#2</a></a>).</p>
<p>Now, whenver a user scrapes Statcast data using either the <code>scrape_statcast_savant_batter</code> or <code>scrape_statcast_savant_pitcher</code> functions the results will include a column <code>barrel</code>, where if the batted ball matches the barrel criteria it will code as 1, otherwise 0.</p>
<p>Example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">scrape_statcast_savant_batter</span>(<span class="at">start_date =</span> <span class="st">"2016-04-06"</span>, <span class="at">end_date =</span> <span class="st">"2016-04-15"</span>, <span class="at">batterid =</span> <span class="dv">621043</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"X"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(barrel)) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">select</span>(player_name, game_date, hit_angle, hit_speed, barrel) <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="sc">+</span>     <span class="fu">tail</span>()</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Be patient, this may take a few seconds..."</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Data courtesy of Baseball Savant and MLBAM (baseballsavant.mlb.com)"</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>     player_name  game_date hit_angle hit_speed barrel</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span> Carlos Correa <span class="dv">2016-04-07</span>     <span class="fl">31.10</span>    <span class="fl">103.33</span>      <span class="dv">1</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span> Carlos Correa <span class="dv">2016-04-07</span>     <span class="fl">27.77</span>     <span class="fl">87.25</span>      <span class="dv">0</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> Carlos Correa <span class="dv">2016-04-06</span>     <span class="fl">29.62</span>    <span class="fl">103.97</span>      <span class="dv">1</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> Carlos Correa <span class="dv">2016-04-06</span>      <span class="fl">0.11</span>    <span class="fl">105.20</span>      <span class="dv">0</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span> Carlos Correa <span class="dv">2016-04-06</span>     <span class="fl">23.76</span>    <span class="fl">113.55</span>      <span class="dv">1</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span> Carlos Correa <span class="dv">2016-04-06</span>     <span class="sc">-</span><span class="fl">2.18</span>    <span class="fl">113.39</span>      <span class="dv">0</span></span></code></pre></div>
<p>If you already have Statcast data–say, in a database that you’ve been collecting–I’ve also included a simple function that will take a dataframe and code whether each row contains a barrel or not. All you need to do is pass your dataframe to <code>code_barrel</code>.</p>
</div>
    <div id="baseballr-020-2016-08-25" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#baseballr-020-2016-08-25" class="anchor"></a>baseballr 0.2.0 (2016-08-25)</h1>
<p>Functions added to this release:</p>
<p><code>scrape_statcast_savant_batter</code><br><code>scrape_statcast_savant_pitcher</code><br><code>playerid_lookup</code></p>
<p>The two savant functions allow a user to retrieve PITCHf/x and Statcast data for either a specific batter or pitcher from [Baseball Savants’ Statcast Search] (<a href="https://baseballsavant.mlb.com/statcast_search" class="uri">https://baseballsavant.mlb.com/statcast_search</a>). The user needs to provide a start date, end date, and the batter or pitcher’s MLBAMID.</p>
<p>Example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">scrape_statcast_savant_batter</span>(<span class="at">start_date =</span> <span class="st">"2016-04-06"</span>, <span class="at">end_date =</span> <span class="st">"2016-04-15"</span>, <span class="at">batterid =</span> <span class="dv">621043</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"X"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">select</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">54</span><span class="sc">:</span><span class="dv">56</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">tail</span>()</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Be patient, this may take a few seconds..."</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Data courtesy of Baseball Savant and MLBAM  (baseballsavant.mlb.com)"</span>     </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    game_date   player_name hit_distance_sc hit_speed hit_angle</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="dv">26</span> <span class="dv">2016-04-07</span> Carlos Correa             <span class="dv">385</span>    <span class="fl">103.33</span>     <span class="fl">31.10</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span> <span class="dv">2016-04-07</span> Carlos Correa             <span class="dv">288</span>     <span class="fl">87.25</span>     <span class="fl">27.77</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="dv">28</span> <span class="dv">2016-04-06</span> Carlos Correa             <span class="dv">392</span>    <span class="fl">103.97</span>     <span class="fl">29.62</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="dv">29</span> <span class="dv">2016-04-06</span> Carlos Correa             <span class="dv">189</span>    <span class="fl">105.20</span>      <span class="fl">0.11</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="dv">30</span> <span class="dv">2016-04-06</span> Carlos Correa             <span class="dv">462</span>    <span class="fl">113.55</span>     <span class="fl">23.76</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="dv">31</span> <span class="dv">2016-04-06</span> Carlos Correa             <span class="dv">228</span>    <span class="fl">113.39</span>     <span class="sc">-</span><span class="fl">2.18</span></span></code></pre></div>
<p>Since the savant functions require users to pass a valid MLBAMID, a lookup function is included that leverages the Chadwich public register. Users provide a text string and only those players with that string present in their last name will be returned.</p>
<p>Here is an example where the user is looking for players with the last name “Seager”:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">playerid_lookup</span>(<span class="st">"Seager"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Be patient, this may take a few seconds..."</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Data courtesy of the Chadwick Bureau Register (https://github.com/chadwickbureau/register)"</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  first_name last_name  given_name name_suffix nick_name birth_year mlb_played_first mlbam_id retrosheet_id  bbref_id fangraphs_id</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>        Ben    Seager         Ben                               <span class="cn">NA</span>               <span class="cn">NA</span>       <span class="cn">NA</span>                                   <span class="cn">NA</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      Corey    Seager  Corey Drew                             <span class="dv">1994</span>             <span class="dv">2015</span>   <span class="dv">608369</span>      seagc001 seageco01        <span class="dv">13624</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     Justin    Seager Justin Ryan                             <span class="dv">1992</span>               <span class="cn">NA</span>   <span class="dv">643529</span>                                   <span class="cn">NA</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>       Kyle    Seager  Kyle Duerr                             <span class="dv">1987</span>             <span class="dv">2011</span>   <span class="dv">572122</span>      seagk001 seageky01         <span class="dv">9785</span></span></code></pre></div>
</div>
    <div id="baseballr-014-2016-05-24" class="section level1">
<h1 class="page-header" data-toc-text="0.1.4">
<a href="#baseballr-014-2016-05-24" class="anchor"></a>baseballr 0.1.4 (2016-05-24)</h1>
<p>Functions added to this release:</p>
<p><code>pitcher_boxscore</code>: This function allows a user to retrieve a boxscore of pitcher statistics for any game played in the PITCHf/x era (2008-current). The function takes a boxscore.xml url as it’s only argument and returns boxscore data for both the home and away pitchers.</p>
<p>Example:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">pitcher_boxscore</span>(<span class="st">"http://gd2.mlb.com/components/game/mlb/year_2016/month_05/day_21/gid_2016_05_21_milmlb_nynmlb_1/boxscore.xml"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(id<span class="sc">:</span>so)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>Source<span class="sc">:</span> local data frame [<span class="dv">9</span> x <span class="dv">10</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>      id      name name_display_first_last   pos   out    bf    er     r     h    so</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>   (chr)     (chr)                   (chr) (chr) (chr) (chr) (chr) (chr) (chr) (chr)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">605200</span>    Davies             Zach Davies     P    <span class="dv">16</span>    <span class="dv">22</span>     <span class="dv">4</span>     <span class="dv">4</span>     <span class="dv">5</span>     <span class="dv">5</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">430641</span>     Boyer            Blaine Boyer     P     <span class="dv">2</span>     <span class="dv">4</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">448614</span> Torres, C           Carlos Torres     P     <span class="dv">3</span>     <span class="dv">4</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">1</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">592804</span> Thornburg         Tyler Thornburg     P     <span class="dv">3</span>     <span class="dv">3</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">1</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">518468</span>    Blazek          Michael Blazek     P     <span class="dv">1</span>     <span class="dv">5</span>     <span class="dv">1</span>     <span class="dv">1</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">594798</span>    deGrom            Jacob deGrom     P    <span class="dv">15</span>    <span class="dv">23</span>     <span class="dv">4</span>     <span class="dv">4</span>     <span class="dv">5</span>     <span class="dv">7</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span> <span class="dv">570663</span>    Robles           Hansel Robles     P     <span class="dv">6</span>     <span class="dv">7</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">3</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span> <span class="dv">592665</span>   Reed, A            Addison Reed     P     <span class="dv">3</span>     <span class="dv">5</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">2</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span> <span class="dv">544727</span>   Familia          Jeurys Familia     P     <span class="dv">3</span>     <span class="dv">4</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">1</span></span></code></pre></div>
<p><code>batter_boxscore</code>: This function does the same thing as <code>pitcher_boxscore</code>, but for batters.</p>
<p>Example:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">batter_boxscore</span>(<span class="st">"http://gd2.mlb.com/components/game/mlb/year_2016/month_05/day_21/gid_2016_05_21_milmlb_nynmlb_1/boxscore.xml"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(id<span class="sc">:</span>bb)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>Source<span class="sc">:</span> local data frame [<span class="dv">29</span> x <span class="dv">10</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>       id        name name_display_first_last   pos    bo    ab    po     r     a    bb</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    (chr)       (chr)                   (chr) (chr) (chr) (chr) (chr) (chr) (chr) (chr)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">542340</span>      Villar         Jonathan Villar    SS   <span class="dv">100</span>     <span class="dv">5</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  <span class="dv">571697</span>     Gennett         Scooter Gennett    2B   <span class="dv">200</span>     <span class="dv">4</span>     <span class="dv">2</span>     <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  <span class="dv">518960</span>      Lucroy         Jonathan Lucroy     C   <span class="dv">300</span>     <span class="dv">5</span>     <span class="dv">8</span>     <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  <span class="dv">474892</span>      Carter            Chris Carter    1B   <span class="dv">400</span>     <span class="dv">4</span>    <span class="dv">10</span>     <span class="dv">0</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  <span class="dv">543590</span> Nieuwenhuis        Kirk Nieuwenhuis    CF   <span class="dv">500</span>     <span class="dv">4</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="dv">431094</span>     Hill, A              Aaron Hill    3B   <span class="dv">600</span>     <span class="dv">1</span>     <span class="dv">1</span>     <span class="dv">2</span>     <span class="dv">4</span>     <span class="dv">3</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  <span class="dv">502100</span>     Presley            Alex Presley    LF   <span class="dv">700</span>     <span class="dv">3</span>     <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">1</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  <span class="dv">570717</span>   Flores, R            Ramon Flores    RF   <span class="dv">800</span>     <span class="dv">3</span>     <span class="dv">2</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  <span class="dv">605200</span>      Davies             Zach Davies     P   <span class="dv">900</span>     <span class="dv">2</span>     <span class="dv">1</span>     <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="dv">430641</span>       Boyer            Blaine Boyer     P   <span class="dv">901</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span></span></code></pre></div>
</div>
    <div id="baseballr-013-2016-03-25" class="section level1">
<h1 class="page-header" data-toc-text="0.1.3">
<a href="#baseballr-013-2016-03-25" class="anchor"></a>baseballr 0.1.3 (2016-03-25)</h1>
<p>Functions added to this release:</p>
<p><code>edge_code</code>: This function allows a user to pass their own dataframe and have individual pitches coded according to the scheme provided by Edge%. The dataframe must contain at least three columns of data: <code>b_height</code>, <code>stand</code>, <code>px</code>, and <code>pz</code>.</p>
<p>Example (based on data from “2015-04-05”):</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">edge_code</span>(df) <span class="sc">%&gt;%</span> .[, <span class="fu">c</span>(<span class="dv">6</span><span class="sc">:</span><span class="dv">7</span>, <span class="dv">27</span><span class="sc">:</span><span class="dv">28</span>, <span class="dv">82</span>)] <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>   stand b_height     px    pz    location</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>      L      <span class="dv">6-3</span>  <span class="fl">0.416</span> <span class="fl">2.963</span> Inside Edge</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>      L      <span class="dv">6-3</span> <span class="sc">-</span><span class="fl">0.191</span> <span class="fl">2.347</span>       Heart</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>      L      <span class="dv">6-3</span> <span class="sc">-</span><span class="fl">0.518</span> <span class="fl">3.284</span>  Upper Edge</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>      L      <span class="dv">6-3</span> <span class="sc">-</span><span class="fl">0.641</span> <span class="fl">1.221</span> Out of Zone</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>      L      <span class="dv">6-3</span> <span class="sc">-</span><span class="fl">1.821</span> <span class="fl">2.083</span> Out of Zone</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>      L      <span class="dv">6-3</span>  <span class="fl">0.627</span> <span class="fl">2.397</span> Inside Edge</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>      L      <span class="dv">6-5</span> <span class="sc">-</span><span class="fl">1.088</span> <span class="fl">1.610</span> Out of Zone</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>      L      <span class="dv">6-5</span> <span class="sc">-</span><span class="fl">0.257</span> <span class="fl">2.047</span>  Lower Edge</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>      L      <span class="dv">6-5</span>     <span class="cn">NA</span>    <span class="cn">NA</span>        <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>     L      <span class="dv">6-3</span> <span class="sc">-</span><span class="fl">1.539</span> <span class="fl">1.525</span> Out of Zone</span></code></pre></div>
<p>Functions updated for this release:</p>
<p><code>standings_on_date_bref</code>: <a href="https://github.com/JonathanBob">JonathanBob</a> updated this funtion to allow for records to be returned for the given date or from that date forward. Also, users can input a full date string instead of three separate arguments for the day, month, and year. Users can also choose to pull records for the AL and NL overall, not just for a given division.</p>
<p>Example:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">standings_on_date_bref</span>(<span class="st">"2015-08-01"</span>, <span class="st">"NL East"</span>, <span class="at">from =</span> <span class="cn">FALSE</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span><span class="st">`</span><span class="at">NL East</span><span class="st">`</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>   Tm  W  L  W<span class="sc">-</span>L<span class="sc">%   GB  RS  RA pythW-L%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> WSN <span class="dv">54</span> <span class="dv">48</span> <span class="fl">0.529</span>   <span class="sc">--</span> <span class="dv">422</span> <span class="dv">391</span>    <span class="fl">0.535</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> NYM <span class="dv">54</span> <span class="dv">50</span> <span class="fl">0.519</span>  <span class="fl">1.0</span> <span class="dv">368</span> <span class="dv">373</span>    <span class="fl">0.494</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> ATL <span class="dv">46</span> <span class="dv">58</span> <span class="fl">0.442</span>  <span class="fl">9.0</span> <span class="dv">379</span> <span class="dv">449</span>    <span class="fl">0.423</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> MIA <span class="dv">42</span> <span class="dv">62</span> <span class="fl">0.404</span> <span class="fl">13.0</span> <span class="dv">370</span> <span class="dv">408</span>    <span class="fl">0.455</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> PHI <span class="dv">41</span> <span class="dv">64</span> <span class="fl">0.390</span> <span class="fl">14.5</span> <span class="dv">386</span> <span class="dv">511</span>    <span class="fl">0.374</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">standings_on_date_bref</span>(<span class="st">"2015-08-01"</span>, <span class="st">"NL East"</span>, <span class="at">from =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="sc">$</span><span class="st">`</span><span class="at">NL East</span><span class="st">`</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>   Tm  W  L  W<span class="sc">-</span>L<span class="sc">%   GB  RS  RA pythW-L%</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> NYM <span class="dv">36</span> <span class="dv">22</span> <span class="fl">0.621</span>   <span class="sc">--</span> <span class="dv">315</span> <span class="dv">240</span>    <span class="fl">0.622</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> MIA <span class="dv">29</span> <span class="dv">29</span> <span class="fl">0.500</span>  <span class="fl">7.0</span> <span class="dv">243</span> <span class="dv">270</span>    <span class="fl">0.452</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> WSN <span class="dv">29</span> <span class="dv">31</span> <span class="fl">0.483</span>  <span class="fl">8.0</span> <span class="dv">281</span> <span class="dv">244</span>    <span class="fl">0.564</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> PHI <span class="dv">22</span> <span class="dv">35</span> <span class="fl">0.386</span> <span class="fl">13.5</span> <span class="dv">240</span> <span class="dv">298</span>    <span class="fl">0.402</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> ATL <span class="dv">21</span> <span class="dv">37</span> <span class="fl">0.362</span> <span class="fl">15.0</span> <span class="dv">194</span> <span class="dv">311</span>    <span class="fl">0.297</span></span></code></pre></div>
</div>
    <div id="baseballr-012-2016-03-07" class="section level1">
<h1 class="page-header" data-toc-text="0.1.2">
<a href="#baseballr-012-2016-03-07" class="anchor"></a>baseballr 0.1.2 (2016-03-07)</h1>
<p>Functions added to this release:</p>
<p><code><a href="../reference/edge_scrape_split.html">edge_scrape_split()</a></code>: This function builds of off <code><a href="../reference/edge_scrape.html">edge_scrape()</a></code> and adds the ability to view the data split by batter and pitcher handedness. As with <code><a href="../reference/edge_scrape.html">edge_scrape()</a></code>, the function returns a dataframe grouped by either pitchers or batters and the percentge of pitches in each of the various Edge zones, but adds in handedness.</p>
<p>Example (Edge% splits by batters with handedness):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">edge_scrape_split</span>(<span class="st">"2015-04-05"</span>, <span class="st">"2015-04-05"</span>, <span class="st">"batter"</span>) <span class="sc">%&gt;%</span> .[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">9</span><span class="sc">:</span><span class="dv">14</span>)]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>       batter_name batter p_throws stand All_pitches Upper_Edge Lower_Edge Inside_Edge Outside_Edge Heart Out_of_Zone</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>             (chr)  (dbl)    (chr) (chr)       (int)      (dbl)      (dbl)       (dbl)        (dbl) (dbl)       (dbl)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Matt Holliday <span class="dv">407812</span>        L     R          <span class="dv">11</span>      <span class="fl">0.000</span>      <span class="fl">0.182</span>       <span class="fl">0.000</span>        <span class="fl">0.182</span> <span class="fl">0.182</span>       <span class="fl">0.455</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Matt Holliday <span class="dv">407812</span>        R     R          <span class="dv">10</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.000</span>        <span class="fl">0.200</span> <span class="fl">0.300</span>       <span class="fl">0.500</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>       David Ross <span class="dv">424325</span>        R     R           <span class="dv">8</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.000</span>        <span class="fl">0.125</span> <span class="fl">0.625</span>       <span class="fl">0.250</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   Jhonny Peralta <span class="dv">425509</span>        L     R           <span class="dv">9</span>      <span class="fl">0.000</span>      <span class="fl">0.111</span>       <span class="fl">0.444</span>        <span class="fl">0.000</span> <span class="fl">0.111</span>       <span class="fl">0.333</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   Jhonny Peralta <span class="dv">425509</span>        R     R           <span class="dv">6</span>      <span class="fl">0.167</span>      <span class="fl">0.000</span>       <span class="fl">0.000</span>        <span class="fl">0.167</span> <span class="fl">0.167</span>       <span class="fl">0.500</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  Adam Wainwright <span class="dv">425794</span>        L     R           <span class="dv">8</span>      <span class="fl">0.000</span>      <span class="fl">0.125</span>       <span class="fl">0.000</span>        <span class="fl">0.000</span> <span class="fl">0.125</span>       <span class="fl">0.750</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  Adam Wainwright <span class="dv">425794</span>        R     R           <span class="dv">3</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.000</span>        <span class="fl">0.333</span> <span class="fl">0.667</span>       <span class="fl">0.000</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>    Yadier Molina <span class="dv">425877</span>        L     R          <span class="dv">13</span>      <span class="fl">0.077</span>      <span class="fl">0.077</span>       <span class="fl">0.000</span>        <span class="fl">0.000</span> <span class="fl">0.077</span>       <span class="fl">0.769</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>    Yadier Molina <span class="dv">425877</span>        R     R           <span class="dv">7</span>      <span class="fl">0.143</span>      <span class="fl">0.000</span>       <span class="fl">0.143</span>        <span class="fl">0.143</span> <span class="fl">0.143</span>       <span class="fl">0.429</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>    Jonathan Jay <span class="dv">445055</span>        L     L           <span class="dv">9</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.222</span>        <span class="fl">0.000</span> <span class="fl">0.556</span>       <span class="fl">0.222</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>..             ...    ...      ...   ...         ...        ...        ...         ...          ...   ...         ...</span></code></pre></div>
</div>
    <div id="baseballr-010-2016-03-01" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#baseballr-010-2016-03-01" class="anchor"></a>baseballr 0.1.0 (2016-03-01)</h1>
<p>Functions added to this release:</p>
<p><code><a href="../reference/fip_plus.html">fip_plus()</a></code>: This function mimics the functionality in the <code><a href="../reference/woba_plus.html">woba_plus()</a></code> function, except that the unit of analysis is pitchers. The function will generate Fielding Indepedent Pitching (FIP) for each pitcher in the data set that is passed to the function, along with wOBA against and wOBA against on contact.</p>
<p>Example:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">daily_pitcher_bref</span>(<span class="st">"2015-04-05"</span>, <span class="st">"2015-04-30"</span>) <span class="sc">%&gt;%</span> <span class="fu">fip_plus</span>() <span class="sc">%&gt;%</span> <span class="fu">select</span>(season, Name, IP, ERA, SO, uBB, HBP, HR, FIP, wOBA_against, wOBA_CON_against) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(IP)) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>   season            Name   IP  ERA SO uBB HBP HR  FIP wOBA_against wOBA_CON_against</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="dv">2015</span>    Johnny Cueto <span class="fl">37.0</span> <span class="fl">1.95</span> <span class="dv">38</span>   <span class="dv">4</span>   <span class="dv">2</span>  <span class="dv">3</span> <span class="fl">2.62</span>        <span class="fl">0.210</span>            <span class="fl">0.276</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="dv">2015</span>  Dallas Keuchel <span class="fl">37.0</span> <span class="fl">0.73</span> <span class="dv">22</span>  <span class="dv">11</span>   <span class="dv">0</span>  <span class="dv">0</span> <span class="fl">2.84</span>        <span class="fl">0.169</span>            <span class="fl">0.151</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="dv">2015</span>      Sonny Gray <span class="fl">36.1</span> <span class="fl">1.98</span> <span class="dv">25</span>   <span class="dv">6</span>   <span class="dv">1</span>  <span class="dv">1</span> <span class="fl">2.69</span>        <span class="fl">0.218</span>            <span class="fl">0.239</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="dv">2015</span>      Mike Leake <span class="fl">35.2</span> <span class="fl">3.03</span> <span class="dv">25</span>   <span class="dv">7</span>   <span class="dv">0</span>  <span class="dv">5</span> <span class="fl">4.16</span>        <span class="fl">0.240</span>            <span class="fl">0.281</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="dv">2015</span> Felix Hernandez <span class="fl">34.2</span> <span class="fl">1.82</span> <span class="dv">36</span>   <span class="dv">6</span>   <span class="dv">3</span>  <span class="dv">1</span> <span class="fl">2.20</span>        <span class="fl">0.225</span>            <span class="fl">0.272</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    <span class="dv">2015</span>    Corey Kluber <span class="fl">34.0</span> <span class="fl">4.24</span> <span class="dv">36</span>   <span class="dv">5</span>   <span class="dv">2</span>  <span class="dv">2</span> <span class="fl">2.40</span>        <span class="fl">0.295</span>            <span class="fl">0.391</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>    <span class="dv">2015</span>   Jake Odorizzi <span class="fl">33.2</span> <span class="fl">2.41</span> <span class="dv">26</span>   <span class="dv">8</span>   <span class="dv">1</span>  <span class="dv">0</span> <span class="fl">2.38</span>        <span class="fl">0.213</span>            <span class="fl">0.228</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>    <span class="dv">2015</span> Josh Collmenter <span class="fl">32.2</span> <span class="fl">2.76</span> <span class="dv">16</span>   <span class="dv">3</span>   <span class="dv">0</span>  <span class="dv">1</span> <span class="fl">2.82</span>        <span class="fl">0.290</span>            <span class="fl">0.330</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>    <span class="dv">2015</span>   Bartolo Colon <span class="fl">32.2</span> <span class="fl">3.31</span> <span class="dv">25</span>   <span class="dv">1</span>   <span class="dv">0</span>  <span class="dv">4</span> <span class="fl">3.29</span>        <span class="fl">0.280</span>            <span class="fl">0.357</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>   <span class="dv">2015</span>    Zack Greinke <span class="fl">32.2</span> <span class="fl">1.93</span> <span class="dv">27</span>   <span class="dv">7</span>   <span class="dv">1</span>  <span class="dv">2</span> <span class="fl">3.01</span>        <span class="fl">0.240</span>            <span class="fl">0.274</span></span></code></pre></div>
<p><code><a href="../reference/edge_scrape.html">edge_scrape()</a></code>: This function allows the user to scrape PITCHf/x data from the GameDay application using Carson Sievert’s <a href="https://github.com/cpsievert/pitchRx">pitchRx</a> package and to calculate metrics associated with <a href="https://billpetti.shinyapps.io/edge_shiny/">Edge%</a>. The function returns a data.frame grouped by either pitchers or batters and the percentge of pitches in each of the various Edge zones.</p>
<p>Example (pitchers):</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">edge_scrape</span>(<span class="st">"2015-04-06"</span>, <span class="st">"2015-04-07"</span>, <span class="st">"pitcher"</span>) <span class="sc">%&gt;%</span> .[, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">12</span>)] <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>     pitcher_name pitcher All_pitches Upper_Edge Lower_Edge Inside_Edge Outside_Edge Heart Out_of_Zone</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>            (chr)   (dbl)       (int)      (dbl)      (dbl)       (dbl)        (dbl) (dbl)       (dbl)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>   Bartolo Colon  <span class="dv">112526</span>          <span class="dv">86</span>      <span class="fl">0.035</span>      <span class="fl">0.081</span>       <span class="fl">0.058</span>        <span class="fl">0.151</span> <span class="fl">0.209</span>       <span class="fl">0.465</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  LaTroy Hawkins  <span class="dv">115629</span>          <span class="dv">12</span>      <span class="fl">0.000</span>      <span class="fl">0.333</span>       <span class="fl">0.000</span>        <span class="fl">0.000</span> <span class="fl">0.083</span>       <span class="fl">0.583</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>      Joe Nathan  <span class="dv">150274</span>           <span class="dv">4</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.000</span>        <span class="fl">0.000</span> <span class="fl">0.000</span>       <span class="fl">1.000</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   Buddy Carlyle  <span class="dv">234194</span>           <span class="dv">9</span>      <span class="fl">0.000</span>      <span class="fl">0.222</span>       <span class="fl">0.000</span>        <span class="fl">0.000</span> <span class="fl">0.333</span>       <span class="fl">0.444</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    Jason Grilli  <span class="dv">276351</span>          <span class="dv">14</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.214</span>        <span class="fl">0.000</span> <span class="fl">0.286</span>       <span class="fl">0.500</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     Kevin Gregg  <span class="dv">276514</span>          <span class="dv">17</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.118</span>        <span class="fl">0.176</span> <span class="fl">0.235</span>       <span class="fl">0.471</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>  Joaquin Benoit  <span class="dv">276542</span>          <span class="dv">19</span>      <span class="fl">0.053</span>      <span class="fl">0.053</span>       <span class="fl">0.105</span>        <span class="fl">0.000</span> <span class="fl">0.158</span>       <span class="fl">0.632</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  Ryan Vogelsong  <span class="dv">285064</span>          <span class="dv">99</span>      <span class="fl">0.010</span>      <span class="fl">0.051</span>       <span class="fl">0.141</span>        <span class="fl">0.061</span> <span class="fl">0.182</span>       <span class="fl">0.556</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>  Jeremy Affeldt  <span class="dv">346793</span>           <span class="dv">5</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.200</span>        <span class="fl">0.000</span> <span class="fl">0.000</span>       <span class="fl">0.800</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  Grant Balfour  <span class="dv">346797</span>          <span class="dv">21</span>      <span class="fl">0.095</span>      <span class="fl">0.000</span>       <span class="fl">0.000</span>        <span class="fl">0.048</span> <span class="fl">0.333</span>       <span class="fl">0.524</span></span></code></pre></div>
<p>Example (batters):</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">edge_scrape</span>(<span class="st">"2015-04-06"</span>, <span class="st">"2015-04-07"</span>, <span class="st">"batter"</span>) <span class="sc">%&gt;%</span> .[, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">7</span><span class="sc">:</span><span class="dv">12</span>)] <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>       batter_name batter All_pitches Upper_Edge Lower_Edge Inside_Edge Outside_Edge Heart Out_of_Zone</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>             (chr)  (dbl)       (int)      (dbl)      (dbl)       (dbl)        (dbl) (dbl)       (dbl)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    Bartolo Colon <span class="dv">112526</span>           <span class="dv">7</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.429</span>        <span class="fl">0.000</span> <span class="fl">0.143</span>       <span class="fl">0.429</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     Torii Hunter <span class="dv">116338</span>          <span class="dv">19</span>      <span class="fl">0.000</span>      <span class="fl">0.105</span>       <span class="fl">0.105</span>        <span class="fl">0.105</span> <span class="fl">0.000</span>       <span class="fl">0.684</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>      David Ortiz <span class="dv">120074</span>          <span class="dv">18</span>      <span class="fl">0.056</span>      <span class="fl">0.000</span>       <span class="fl">0.111</span>        <span class="fl">0.056</span> <span class="fl">0.222</span>       <span class="fl">0.556</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>   Alex Rodriguez <span class="dv">121347</span>          <span class="dv">17</span>      <span class="fl">0.000</span>      <span class="fl">0.000</span>       <span class="fl">0.353</span>        <span class="fl">0.000</span> <span class="fl">0.118</span>       <span class="fl">0.529</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>   Aramis Ramirez <span class="dv">133380</span>          <span class="dv">23</span>      <span class="fl">0.000</span>      <span class="fl">0.087</span>       <span class="fl">0.261</span>        <span class="fl">0.000</span> <span class="fl">0.261</span>       <span class="fl">0.391</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    Adrian Beltre <span class="dv">134181</span>          <span class="dv">26</span>      <span class="fl">0.000</span>      <span class="fl">0.038</span>       <span class="fl">0.154</span>        <span class="fl">0.115</span> <span class="fl">0.231</span>       <span class="fl">0.462</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>   Carlos Beltran <span class="dv">136860</span>          <span class="dv">22</span>      <span class="fl">0.136</span>      <span class="fl">0.045</span>       <span class="fl">0.136</span>        <span class="fl">0.000</span> <span class="fl">0.136</span>       <span class="fl">0.545</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>  Michael Cuddyer <span class="dv">150212</span>          <span class="dv">14</span>      <span class="fl">0.000</span>      <span class="fl">0.214</span>       <span class="fl">0.214</span>        <span class="fl">0.000</span> <span class="fl">0.214</span>       <span class="fl">0.357</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>    Jimmy Rollins <span class="dv">276519</span>          <span class="dv">41</span>      <span class="fl">0.024</span>      <span class="fl">0.122</span>       <span class="fl">0.049</span>        <span class="fl">0.049</span> <span class="fl">0.220</span>       <span class="fl">0.537</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>  Ryan Vogelsong <span class="dv">285064</span>          <span class="dv">10</span>      <span class="fl">0.000</span>      <span class="fl">0.200</span>       <span class="fl">0.300</span>        <span class="fl">0.000</span> <span class="fl">0.200</span>       <span class="fl">0.300</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bill Petti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


